## 这本书是给谁看的？

本书适合所有对软件设计感兴趣或对Python有更多了解的软件工程从业者阅读。假设读者已经熟悉面向对象软件设计的原理并具有编写代码的经验。

它将吸引想要学习良好的 Python 编码技术以从头开始创建项目或在其遗留系统上工作以节省成本和提高效率的团队负责人、软件架构师和高级软件工程师。

这本书的组织方式使得内容的复杂性逐渐增加。第一章涵盖了 Python 的基础知识，这是学习该语言中可用的主要习语、函数和实用程序的好方法。这个想法不仅仅是用 Python 解决一些问题，而是以惯用的方式来解决。

有经验的程序员也将从本书中的主题中受益，因为某些章节涵盖了 Python 中的高级主题，例如装饰器、描述符和异步编程简介。它将帮助读者更多地了解 Python，因为其中一些案例是从语言本身的内部分析的。

使用 Python 进行数据处理的科学家也可以从本书的内容中受益，为此，本书的几个部分致力于从头开始设置项目，包括工具、环境配置和良好实践。发布软件。

值得强调的是本节第一句中的“从业者”一词。这是一本采取务实方法的书。示例仅限于案例研究所需的内容，但也旨在模拟真实软件项目的上下文。它不是一本学术书籍，因此应谨慎对待所做出的定义、评论和建议。读者应该批判性地、务实地而不是教条地审查这些建议。毕竟，实用性胜过纯度。

## 本书涵盖的内容

**第 1 章**，介绍、代码格式和工具，介绍了读者在 Python 中设置开发环境所需的主要工具。我们涵盖了建议 Python 开发人员了解以有效开始使用该语言的基础知识。它还包括一些维护项目中可读代码的指南，例如用于静态分析、文档、类型检查和代码格式化的工具。对编码标准有一个共同的理解是一件好事，但仅仅依靠良好的意图并不能扩展。这就是本章最后讨论更有效工作的工具的原因。

**第 2 章**，Pythonic 代码，着眼于 Python 中的第一个习语，我们将在接下来的章节中继续使用。我们介绍了 Python 的特定功能，以及它们的用途，在本章中，我们开始围绕 Pythonic 代码通常质量更好的想法构建知识。

**第 3 章**，良好代码的一般特征，回顾了软件工程的一般原则，重点是编写更易于维护的代码。借助从前一章中获得的知识，我们来看看一般的简洁设计理念，以及如何在 Python 中实现它们。

**第 4 章**，SOLID 原则，涵盖了面向对象软件设计的一组设计原则。这个首字母缩写词是软件工程语言或行话的一部分，我们将看到它们中的每一个如何应用于 Python。特别是，读者将了解依赖注入如何使代码更易于维护，这个概念在接下来的章节中将非常有用。

**第 5 章**，用装饰器改进代码，着眼于 Python 最伟大的特性之一。在了解如何创建装饰器（用于函数和类）之后，我们将它们用于重用代码、分离职责和创建更细粒度的函数。本章另一个有趣的学习点是如何利用装饰器来简化复杂和重复的函数签名。

**第 6 章**，使用描述符，探索 Python 中的描述符，它将面向对象的设计提升到一个新的水平。虽然这是一个与框架和工具更相关的功能，但我们可以看到如何使用描述符提高代码的可读性，以及如何重用代码。本章重温的内容将使读者对Python有更高的理解。

**第 7 章**，生成器、迭代器和异步编程，首先展示了生成器如何成为 Python 的一个奇妙特性。迭代是 Python 的核心组件这一事实可能会让我们认为它会导致一种新的编程模型。通过使用一般的生成器和迭代器，我们可以以不同的方式思考我们编写程序的方式。通过从生成器中学到的经验教训，我们进一步了解 Python 中的协程和异步编程的基础知识。本章最后解释了异步编程和异步迭代的新语法（和新的魔法方法！）。

**第 8 章**，单元测试和重构，讨论了单元测试在任何声称可维护的代码库中的重要性。我们将重构作为演化和维护代码库的先决条件，以及单元测试对此有何关键作用。所有这一切，都在适当工具（主要是 unittest 和 pytest 模块）的支持下。最后，我们了解到良好测试的秘诀不在于测试本身，而在于拥有可测试的代码。

**第 9 章**，常用的设计模式，回顾了如何在 Python 中实现最常见的设计模式，不是从解决问题的角度，而是通过检查它们如何通过利用更好、更易于维护的解决方案来解决问题。本章提到了 Python 的特性，这些特性使一些设计模式不可见，并采用务实的方法来实现其中的一些。我们讨论其他（不是那么“传统”的）Python 特定的模式。

**第 10 章**，干净的架构，重点介绍干净的代码是良好架构的基础。我们在第一章中提到的所有这些细节，以及一路上回顾的所有其他细节，将在系统部署时在整个设计中发挥关键作用。

## 充分利用本书

读者应具有一定程度的编程经验，并以某种方式熟悉 Python 语法的基础知识。此外，还假定基本的编程知识，如结构化编程，以及面向对象设计的知识。

要测试代码，您需要安装 Python，可以从 https://www.python.org/downloads/ 下载。代码使用 Python 3.9+ 运行，强烈建议创建虚拟环境。或者，可以在 Docker 映像中测试代码。

## 下载示例代码文件

本书的代码包托管在 GitHub 上，网址为 https://github.com/PacktPublishing/Clean-Code-in-Python-Second-Edition。我们还从 https://github.com/PacktPublishing/ 提供的丰富的书籍和视频目录中获得了其他代码包。去看一下！

## 下载彩色图像

我们还提供了一个 PDF 文件，其中包含本书中使用的屏幕截图/图表的彩色图像。你可以在这里下载：https://static.packt-cdn.com/downloads/9781800560215_ColorImages.pdf

## 使用的约定

本书使用了许多文本约定。

*CodeInText*：表示文本中的代码字、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 句柄。 例如; “那么，只需运行 *pylint* 命令就足以在代码中检查它。”

一段代码设置如下：

```python
@dataclass
class Point:
    lat: float
    long: float
```

当我们希望让您注意代码块的特定部分时，相关行或项目以粗体设置：

```python
setup(
    name="apptool",
    description="Description of the intention of the package",
    long_description=long_description,
)
```

任何命令行输入或输出的写法如下：

```bash
>>> locate.__annotations__
{'latitude': float, 'longitue': float, 'return': __main__.Point}
```

粗体：表示一个新词、一个重要的词，或者你在屏幕上看到的词，例如在菜单或对话框中，也像这样出现在文本中。 例如：“我们希望设计具有更好的关注点分离。”

## 保持联系

我们随时欢迎读者的反馈。

一般反馈：发送电子邮件至 feedback@packtpub.com 并在邮件主题中提及该书的标题。如果您对本书的任何方面有任何疑问，请发送电子邮件至 questions@packtpub.com。

勘误表：虽然我们已尽一切努力确保内容的准确性，但错误还是会发生。如果您在本书中发现了错误，请向我们报告，我们将不胜感激。请访问 http://www.packtpub.com/submit-errata，选择您的书，单击勘误提交表链接，然后输入详细信息。

盗版：如果您在互联网上发现任何形式的我们作品的非法复制品，请提供位置地址或网站名称，我们将不胜感激。请通过copyright@packtpub.com与我们联系，并提供材料的链接。

如果您有兴趣成为作者：如果您对某个主题有专业知识并且有兴趣撰写或贡献一本书，请访问 http://authors.packtpub.com。

评论

请留下评论。一旦您阅读并使用了这本书，为什么不在您购买它的网站上留下评论呢？然后，潜在读者可以看到并使用您公正的意见来做出购买决定，我们 Packt 可以了解您对我们产品的看法，我们的作者可以看到您对他们书籍的反馈。谢谢！

有关 Packt 的更多信息，请访问 [packtpub.com](packtpub.com)。

